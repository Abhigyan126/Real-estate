<!DOCTYPE html>
<html>
<head>
  <title>Dashboard</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    h1 {
      margin-bottom: 20px;
    }

    .search-container {
      margin-bottom: 20px;
    }

    .search-container input[type="text"] {
      padding: 8px;
      font-size: 16px;
    }

    .property-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      grid-gap: 20px;
      list-style-type: none;
      padding: 0;
    }

    .property-item {
      border: 1px solid #ccc;
      background-color: #f9f9f9;
      padding: 20px;
    }

    .property-image {
      width: 100%;
      height: auto;
      margin-bottom: 10px;
    }

    .property-details p {
      margin: 5px 0;
    }

    .insert-button {
      padding: 8px 16px;
      font-size: 16px;
      background-color: #007bff;
      color: #fff;
      border: none;
      cursor: pointer;
      margin-top: 20px;
    }

    .insert-button:hover {
      background-color: #0056b3;
    }
  </style>
</head>
<body>
  <h1>Welcome, <%= username %>!</h1>

  <div class="search-container">
    <input type="text" id="searchInput" placeholder="Search by username..." onkeyup="searchProperties()">
  </div>

  <ul class="property-grid" id="propertyGrid">
    <% properties.forEach(function(property) { %>
      <li class="property-item">
        <div class="property-details">
          <h3><%= property.property_type %></h3>
          <p><strong>Value:</strong> <%= property.property_value %></p>
          <p><strong>Size:</strong> <%= property.property_size %></p>
          <p><strong>Height:</strong> <%= property.property_height %></p>
          <p><strong>Rating:</strong> <%= property.property_rating %></p>
          <p><strong>Description:</strong> <%= property.property_description %></p>
          <p><strong>Contact:</strong> <%= property.contact %></p>
          <p><strong>Name:</strong> <%= property.name %></p>
          <p><strong>Age:</strong> <%= property.age %></p>
          <p><strong>Aadhar Card Number:</strong> <%= property.aadhar_card_number %></p>
          <p><strong>Pancard Number:</strong> <%= property.pan_card_number %></p>
          <p><strong>Location:</strong> <%= property.property_location %></p>
        </div>
      </li>
    <% }); %>
  </ul>

  <button class="insert-button" onclick="location.href='/property-form'">Insert Property</button>

  <script>
    function searchProperties() {
      var input, filter, ul, li, h3, i, txtValue;
      input = document.getElementById("searchInput");
      filter = input.value.toUpperCase();
      ul = document.getElementById("propertyGrid");
      li = ul.getElementsByTagName("li");

      for (i = 0; i < li.length; i++) {
        h3 = li[i].getElementsByTagName("h3")[0];
        txtValue = h3.textContent || h3.innerText;

        if (txtValue.toUpperCase().indexOf(filter) > -1) {
          li[i].style.display = "";
        } else {
          li[i].style.display = "none";
        }
      }
    }
  </script>
</body>
</html>
